"use strict";(self["webpackChunkamiyabot_console"]=self["webpackChunkamiyabot_console"]||[]).push([[146],{3813:function(e,t,n){n.d(t,{Dq:function(){return o},mC:function(){return s},uT:function(){return i}});var a=n(8199);const o="https://cos.amiyabot.com",s=new a.Z({host:o});async function i(){return await s.get({url:"/notice.txt"})}},7146:function(e,t,n){n.r(t),n.d(t,{default:function(){return we}});var a=n(4150),o=(n(1758),n(7195),n(4143)),s=(n(7437),n(1955)),i=(n(2064),n(2261)),l=(n(6809),n(7113),n(3417)),r=(n(172),n(432)),c=(n(812),n(1015)),d=(n(8474),n(5065)),u=(n(3189),n(9971)),m=(n(1430),n(3396)),h=n(7139),p=n(9242);const f=e=>((0,m.dD)("data-v-44a4d910"),e=e(),(0,m.Cn)(),e),g={class:"header"},w={class:"title"},y=(0,m.Uk)(" AmiyaBot Console "),v=(0,m.Uk)("Beta"),_={class:"options"},k=f((()=>(0,m._)("div",{onclick:"window.open('https://www.amiyabot.com/')"},[(0,m._)("span",{class:"icon-book"}),(0,m.Uk)("文档")],-1))),W=f((()=>(0,m._)("div",{onclick:"window.open('https://github.com/AmiyaBot')"},[(0,m._)("span",{class:"icon-github"}),(0,m.Uk)("Github ")],-1))),b={class:"connect"},Z={key:0,style:{display:"flex"}},F=(0,m.Uk)(" Connected@ "),C={key:1},D={key:0,class:"body"},U={class:"nav-con"},I={class:"app-con"},x={style:{display:"flex","align-items":"center"}},K=f((()=>(0,m._)("span",{style:{"padding-left":"5px"}},"公告",-1))),V=["innerHTML"],S={style:{"font-size":"20px",display:"flex"}},B={class:"options-con"},j=f((()=>(0,m._)("div",{class:"icon bot"},null,-1))),X={style:{overflow:"auto"}},A={class:"setting-header"},L=(0,m.Uk)(" 设置中心 "),H=f((()=>(0,m._)("span",null,"服务设置",-1))),N=(0,m.Uk)("保存"),O=(0,m.Uk)("注销"),z={key:1,class:"no-setting"},M=f((()=>(0,m._)("span",null,"设置你的 AmiyaBot 服务",-1))),R=(0,m.Uk)("开始连接");function T(e,t,n,f,T,$){const E=u.Ks,P=d.E2,q=(0,m.up)("main-nav"),Y=(0,m.up)("BellFilled"),G=c.gn,J=r.v,Q=(0,m.up)("router-view"),ee=(0,m.up)("Setting"),te=l.EZ,ne=s.nH,ae=i.mi,oe=s.ly,se=o.Kf,ie=a.zd;return(0,m.wg)(),(0,m.iD)(m.HY,null,[(0,m._)("div",g,[(0,m._)("div",w,[y,(0,m.Wm)(E,{style:{"margin-left":"5px"},type:"danger",effect:"dark",size:"small"},{default:(0,m.w5)((()=>[v])),_:1})]),(0,m._)("div",_,[k,W,(0,m._)("div",b,[(0,m._)("div",{class:(0,h.C_)(["status",{off:!e.host()}])},null,2),e.host()?((0,m.wg)(),(0,m.iD)("div",Z,[F,(0,m.Wm)(P,{underline:!1,href:e.originHost()+"/docs",target:"_blank",style:{color:"#fff"}},{default:(0,m.w5)((()=>[(0,m.Uk)((0,h.zw)(e.host()),1)])),_:1},8,["href"])])):((0,m.wg)(),(0,m.iD)("div",C,"Unconnected"))])])]),e.ready?((0,m.wg)(),(0,m.iD)("div",D,[(0,m._)("div",U,[(0,m.Wm)(q,{onOnSelected:t[0]||(t[0]=e=>this.name=e)})]),(0,m._)("div",I,[(0,m._)("div",null,[e.notice?((0,m.wg)(),(0,m.j4)(J,{key:0,type:"error"},{title:(0,m.w5)((()=>[(0,m._)("div",x,[(0,m.Wm)(G,null,{default:(0,m.w5)((()=>[(0,m.Wm)(Y)])),_:1}),K])])),default:(0,m.w5)((()=>[(0,m._)("div",{innerHTML:e.notice},null,8,V)])),_:1})):(0,m.kq)("",!0)]),(0,m._)("div",null,[(0,m._)("div",S,[(0,m.Wm)(G,{class:"icon"},{default:(0,m.w5)((()=>[((0,m.wg)(),(0,m.j4)((0,m.LL)(e.navIcon[e.name])))])),_:1}),(0,m.Uk)(" "+(0,h.zw)(e.navName[e.name]),1)]),(0,m._)("div",B,[j,(0,m._)("div",{class:"icon setting",onClick:t[1]||(t[1]=t=>e.setting=!0)})])]),(0,m._)("div",X,[(0,m.Wm)(Q,null,{default:(0,m.w5)((({Component:e})=>[(0,m.Wm)(p.uT,{name:"slide-fade"},{default:(0,m.w5)((()=>[((0,m.wg)(),(0,m.j4)((0,m.LL)(e)))])),_:2},1024)])),_:1})])]),(0,m.Wm)(ie,{modelValue:e.setting,"onUpdate:modelValue":t[4]||(t[4]=t=>e.setting=t)},{header:(0,m.w5)((()=>[(0,m._)("div",A,[(0,m.Wm)(G,{style:{"margin-right":"5px"}},{default:(0,m.w5)((()=>[(0,m.Wm)(ee)])),_:1}),L])])),default:(0,m.w5)((()=>[(0,m.Wm)(se,null,{header:(0,m.w5)((()=>[H])),default:(0,m.w5)((()=>[(0,m.Wm)(oe,{model:e.settingForm,"label-position":"top"},{default:(0,m.w5)((()=>[(0,m.Wm)(ne,{label:"AmiyaBot 服务地址"},{default:(0,m.w5)((()=>[(0,m.Wm)(te,{modelValue:e.settingForm.host,"onUpdate:modelValue":t[2]||(t[2]=t=>e.settingForm.host=t),placeholder:"请填写服务地址"},null,8,["modelValue"])])),_:1}),(0,m.Wm)(ne,{label:"AmiyaBot 服务密匙"},{default:(0,m.w5)((()=>[(0,m.Wm)(te,{modelValue:e.settingForm.authKey,"onUpdate:modelValue":t[3]||(t[3]=t=>e.settingForm.authKey=t),placeholder:"请填写服务密匙","show-password":""},null,8,["modelValue"])])),_:1}),(0,m.Wm)(ae,{type:"success",onClick:e.saveServer},{default:(0,m.w5)((()=>[N])),_:1},8,["onClick"]),(0,m.Wm)(ae,{type:"danger",onClick:e.unlinkServer},{default:(0,m.w5)((()=>[O])),_:1},8,["onClick"])])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"])])):((0,m.wg)(),(0,m.iD)("div",z,[(0,m.Wm)(se,{class:"setting-card"},{header:(0,m.w5)((()=>[M])),default:(0,m.w5)((()=>[(0,m.Wm)(oe,{model:e.settingForm,"label-position":"top"},{default:(0,m.w5)((()=>[(0,m.Wm)(ne,{label:"AmiyaBot 服务地址"},{default:(0,m.w5)((()=>[(0,m.Wm)(te,{modelValue:e.settingForm.host,"onUpdate:modelValue":t[5]||(t[5]=t=>e.settingForm.host=t),placeholder:"请填写服务地址"},null,8,["modelValue"])])),_:1}),(0,m.Wm)(ne,{label:"AmiyaBot 服务密匙"},{default:(0,m.w5)((()=>[(0,m.Wm)(te,{modelValue:e.settingForm.authKey,"onUpdate:modelValue":t[6]||(t[6]=t=>e.settingForm.authKey=t),placeholder:"请填写服务密匙","show-password":""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,m.Wm)(ae,{type:"success",onClick:e.start},{default:(0,m.w5)((()=>[R])),_:1},8,["onClick"])])),_:1})]))],64)}var $=n(2482),E=n(6520),P=n(2748);const q={class:"main-nav"},Y={class:"menu"},G=["onClick"];function J(e,t,n,a,o,s){const i=c.gn;return(0,m.wg)(),(0,m.iD)("div",q,[(0,m._)("div",Y,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.indexChildren,((t,n)=>((0,m.wg)(),(0,m.iD)("div",{key:n,class:(0,h.C_)({selected:e.isSelected(t)}),onClick:n=>e.selectMenu(t)},[(0,m.Wm)(i,{class:"icon"},{default:(0,m.w5)((()=>[((0,m.wg)(),(0,m.j4)((0,m.LL)(e.navIcon[t.name])))])),_:2},1024),(0,m.Uk)(" "+(0,h.zw)(e.navName[t.name]||t.name),1)],10,G)))),128))])])}var Q=n(4870),ee=n(2483),te=n(4910),ne=function(e,t,n,a){var o,s=arguments.length,i=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};const ae={index:"控制台",instance:"实例管理",replace:"词语替换管理",operator:"干员管理",gacha:"卡池管理",admin:"管理员管理",user:"用户管理",plugin:"插件管理",shop:"插件商店"},oe={index:(0,Q.XI)(P.ugo),instance:(0,Q.XI)(P.ewe),replace:(0,Q.XI)(P.IBc),operator:(0,Q.XI)(P.aBT),gacha:(0,Q.XI)(P._pU),admin:(0,Q.XI)(P.srI),user:(0,Q.XI)(P.n5m),plugin:(0,Q.XI)(P.rUS),shop:(0,Q.XI)(P.ZAs)};let se=class extends E.w3{constructor(...e){super(...e),(0,$.Z)(this,"indexChildren",te.S),(0,$.Z)(this,"navName",ae),(0,$.Z)(this,"navIcon",oe)}selectMenu(e){this.$router.push(e.path)}isSelected(e){return e.name===this.$route.name}};se=ne([(0,E.Ei)({mounted(){if(this.$route.name)for(const e in this.indexChildren){const t=this.indexChildren[e];if(this.$route.name===t.name){this.$emit("onSelected",t.name),this.selectMenu(t);break}}(0,ee.ao)(((e,t,n)=>{this.$emit("onSelected",e.name),n()}))}})],se);var ie=se,le=n(89);const re=(0,le.Z)(ie,[["render",J],["__scopeId","data-v-48f33006"]]);var ce=re,de=n(8418),ue=n(8199),me=n(3813),he=function(e,t,n,a){var o,s=arguments.length,i=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i};let pe=class extends E.w3{constructor(...e){super(...e),(0,$.Z)(this,"name",""),(0,$.Z)(this,"navName",ae),(0,$.Z)(this,"navIcon",oe),(0,$.Z)(this,"notice",""),(0,$.Z)(this,"ready",!1),(0,$.Z)(this,"setting",!1),(0,$.Z)(this,"settingForm",{host:de.Z.getData("host")||"",authKey:de.Z.getData("authKey")||""})}async saveServer(){de.Z.setData("host",this.settingForm.host),de.Z.setData("authKey",this.settingForm.authKey),location.reload()}async unlinkServer(){de.Z.removeData("host"),de.Z.removeData("authKey"),location.reload()}async start(){this.settingForm.host.startsWith("http")||(this.settingForm.host="http://"+this.settingForm.host);const e=new ue.Z({host:this.settingForm.host}),t=await e.get({headers:{authKey:this.settingForm.authKey},url:"/bot/link"});t&&(de.Z.setData("host",this.settingForm.host),de.Z.setData("authKey",this.settingForm.authKey),this.ready=!0)}async getNotice(){const e=await(0,me.uT)();e&&(this.notice=e)}};pe=he([(0,E.Ei)({components:{MainNav:ce,Setting:P.pEs,BellFilled:P.a3S},methods:{originHost(){return de.Z.getData("host")},host(){return(de.Z.getData("host")||"").replace("http://","").replace("https://","")}},mounted(){this.ready=!!this.settingForm.host,this.getNotice()}})],pe);var fe=pe;const ge=(0,le.Z)(fe,[["render",T],["__scopeId","data-v-44a4d910"]]);var we=ge},812:function(e,t,n){n(1758)},7437:function(e,t,n){n(1758)},3189:function(e,t,n){n(1758)},7195:function(e,t,n){n(1758)}}]);
//# sourceMappingURL=146.9612a845.js.map